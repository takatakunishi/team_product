<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>Minesweeper</title>
  </head>
  <body>
    <div id="tool">
      contents
    </div>
    <script type="text/javascript">
    let field = new Map(); //Mapの作成
    let mine = new Map(); //Mapの作成

    for(var i = 0; i < 64; i++){
      field.set(i , true); //falseが爆弾
      mine.set(i, 0); //iは位置０は周囲に存在する爆弾の個数
    } //Mapを設定

    var random_number = Math.floor(Math.random(field.size)); //0~63までの乱数決定 

    for(var i = 0; i < field.size; i++){
      if(i == random_number){
        field.set(i, false); //爆弾設置
        mine.set(i, -1); //爆弾設置

        /*ここから周囲の爆弾の個数の確認*/
        if(i-1 >= 0 && field.get(i-1) == true){
          var a = mine.get(i-1);
          mine.set(i-1, a+1);
        }
        if(i-7 >= 0 && field.get(i-7) == true){
          var a = mine.get(i-7);
          mine.set(i-7, a+1);
        }
        if(i-8 >= 0 && field.get(i-8) == true){
          var a = mine.get(i-8);
          mine.set(i-8, a+1);
        }
        if(i-9 >= 0 && field.get(i-9) == true){
          var a = mine.get(i-9);
          mine.set(i-9, a+1);
        }
        if(i+1 < 64 && field.get(i+1) == true){
          var a = mine.get(i+1);
          mine.set(i+1, a+1);
        }
        if(i+7 < 64 && field.get(i+7) == true){
          var a = mine.get(i+7);
          mine.set(i+7, a+1);
        }
        if(i+8 < 64 && field.get(i+8) == true){
          var a = mine.get(i+8);
          mine.set(i+8, a+1);
        }
        if(i+9 < 64 && field.get(i+9) == true){
          var a = mine.get(i+9);
          mine.set(i+9, a+1);
        } 
      }
    }
    </script>
  </body>
</html>
